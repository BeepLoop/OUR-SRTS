{{ define "update-file" }}
<button id="updateBtn{{.}}" class="w-16 rounded bg-red-900 px-3 py-1 text-white hover:bg-red-700">
    Update 
</button>

<div id="modalFileUpdate{{.}}" class="relative z-10 hidden">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

    <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
        <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
            <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
                <div class="p-4">

                    <form action="/admin/update" method="POST" enctype="multipart/form-data">
                        <h2>{{.}}</h2>

                        <input type="text" name="controlNumber" id="hiddenForUpdate{{.}}" value="" class="hidden">

                        <input type="file" name="{{ . }}">

                        <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                            <button type="submit" class="inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto">
                                Save
                            </button>
                            <button id="cancelBtn{{.}}" type="button" class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">
                                Cancel
                            </button>
                        </div>
                    </form>   

                </div>

            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('hiddenForUpdate{{.}}').value = ctrlNo

    document.getElementById('updateBtn{{.}}').addEventListener('click', () => {
        document.getElementById('modalFileUpdate{{.}}').classList.toggle('hidden')
    })

    document.getElementById('cancelBtn{{.}}').addEventListener('click', () => {
        document.getElementById('modalFileUpdate{{.}}').classList.toggle('hidden')
    })
</script>
{{ end }}
